# 2.2 增强的Python控制台功能

上一节从Shell的角度看了IPython的功能，这一节我们从Python控制台的角度来看看。

## 输入历史%hist

IPython会保存所有的输入历史，甚至包括历史会话的。由于随着时间的推移，历史列表会愈来愈庞大，IPython中有方便的机制可以轻松访问输入历史。

最基本的当然是按上下键；如果已经输入几个字符，那么上下键还会匹配已输入的开头。

%hist（%history的别名）命令接受不同的选项，可显示输入历史的不同部分。比如：

```
# history of line 2 - line 5
%hist 2-5

# line 4 - line 8 of session 201
%hist 201/4-8

# line 7 of previous session
%hist ~1/7

# save to a file
%hist -f filename
```

还有一个相关的命令是%store，可以将任意的Python变量保存下来，供日后之用。

```
# save var name
%store name

# delete var name
%store -d name

# recover
%store -r
```

